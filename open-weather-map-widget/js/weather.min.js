var ajax={};ajax.init=function(){if(typeof XMLHttpRequest!=="undefined"){return new XMLHttpRequest()}var a=["MSXML2.XmlHttp.6.0","MSXML2.XmlHttp.5.0","MSXML2.XmlHttp.4.0","MSXML2.XmlHttp.3.0","MSXML2.XmlHttp.2.0","Microsoft.XmlHttp"];var d;for(var b=0;b<a.length;b++){try{d=new ActiveXObject(a[b]);break}catch(c){console.warn("Your browser does not seem to support AJAX request.")}}return d};ajax.send=function(a,f,c,e,b){if(typeof(a)==="undefined"){console.warn("Cannot sent AJAX request to undefined URL.");return false}if(typeof(f)==="undefined"){f="POST"}if(typeof(c)==="undefined"){c=null}if(typeof(b)==="undefined"){b=true}f=f.toUpperCase();if(f=="GET"){a=a+"?"+c;c=null}var d=ajax.init();d.open(f,a,b);d.onreadystatechange=function(){if(d.readyState==4){e(d.responseText)}};if(f=="POST"){d.setRequestHeader("Content-type","application/x-www-form-urlencoded")}d.send(c);return false};var geoData=null;var geoResult="Your browser does not support geolocation.";var geoDiv=document.getElementById("weather-geolocation");if(navigator.geolocation){navigator.geolocation.getCurrentPosition(function(a){geoData=OpenWeatherMapWidgetData+"&lat="+a.coords.latitude+"&lon="+a.coords.longitude;ajax.send(OpenWeatherMapWidget,"POST",geoData,function(b){geoDiv.innerHTML=b;return false})},function(){geoResult="The geolocation service failed.";return false});if(geoData===null){geoDiv.innerHTML=geoResult}};